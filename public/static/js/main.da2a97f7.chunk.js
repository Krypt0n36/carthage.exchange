(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2091:function(e,t,a){e.exports=a.p+"static/media/logo.94d70b12.svg"},2092:function(e,t,a){e.exports=a.p+"static/media/pay.2c4b66df.png"},2093:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(48),o=a.n(l),i=(a(54),a(12)),c=a(1),s=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,2108)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),l(e),o(e)})},m=a(51),d=a(6),u=a(2),p=a(8),f=a(2123),g=a(2124),E=a(25),h=a(2126),v=a(14),b=a(2102),y=a(2118),w=a(2119),k=a(2127),x=a(2128),_=a(2129),C=a(9),S=a.n(C),O=a(7),j=a(2125),T=a(27),N=Object(f.a)(function(e){return{title:{fontSize:26,fontWeight:900,fontFamily:"Greycliff CF, ".concat(e.fontFamily)},stepTitle:{fontWeight:900,fontFamily:"Greycliff CF, ".concat(e.fontFamily)}}});function z(){var e,t=N().classes,a=Object(n.useState)({identifier:{value:"",error:void 0},password:{value:"",error:void 0}}),l=Object(c.a)(a,2),o=l[0],i=l[1],s=Object(n.useState)(),m=Object(c.a)(s,2),d=m[0],f=m[1],C=Object(n.useState)(!1),z=Object(c.a)(C,2),D=z[0],B=z[1],I=Object(n.useState)(!1),F=Object(c.a)(I,2),A=F[0],R=F[1],q=Object(n.useState)(!1),W=Object(c.a)(q,2),P=W[0],L=W[1],H=Object(n.useState)("/dashboard"),U=Object(c.a)(H,2),M=U[0],Q=U[1];function Y(e,t){var a=Object(p.a)({},o);a[e].value=t,a[e].error=void 0,i(a),console.log(o)}function G(e,t){var a=Object(p.a)({},o);a[e].error=t,i(a)}return Object(n.useEffect)(function(){for(var e=window.location.search.substring(1).split("&").map(function(e){return{name:e.split("=")[0],value:e.split("=")[1]||!0}}),t=0;t<e.length;t++)e[t].name&&"identifier"==e[t].name&&Y("identifier",e[t].value),e[t].name&&"account_created"==e[t].name&&R(!0),e[t].name&&"session_expired"==e[t].name&&L(!0),e[t].name&&"redirect_to"==e[t].name&&Q(atob(e[t].value))},[]),r.a.createElement(g.a,{size:420,my:40},r.a.createElement(T.a,{mounted:A,transition:"slide-up",duration:400,timingFunction:"ease"},function(e){return r.a.createElement(j.a,{icon:r.a.createElement(O.Mail,{size:18}),color:"teal",title:"Account is created",style:{position:"fixed",bottom:"20px",right:"20px",zIndex:4}},"Account created, please check your inbox for a verification link.")}),r.a.createElement(T.a,{mounted:P,transition:"slide-up",duration:400,timingFunction:"ease"},function(e){return r.a.createElement(j.a,{icon:r.a.createElement(O.ExclamationMark,{size:18}),color:"red",title:"Session expired.",style:{position:"fixed",bottom:"20px",right:"20px",zIndex:4}},"Ops, your session token expired, please log in again.")}),r.a.createElement(E.a,{withBorder:!0,shadow:"md",p:30,mt:30,radius:"md"},r.a.createElement(h.a,{order:4,className:t.stepTitle,mb:2,mt:0},"Log In"),r.a.createElement(v.a,{mb:10,color:"dimmed",size:"sm"},"Welcome at our virtual trading port where you find the biggest crypto marketplace in Tunisia."),r.a.createElement(b.a,{name:"identifier",value:o.identifier.value,error:o.identifier.error,onChange:function(e){Y(e.currentTarget.name,e.currentTarget.value)},label:"Email, Username or Phone number",required:!0}),r.a.createElement(y.a,{name:"password",value:o.password.value,error:o.password.error,onChange:function(e){Y(e.currentTarget.name,e.currentTarget.value)},label:"Password",required:!0,mt:"md"}),r.a.createElement(w.a,{position:"apart",mt:"md"},r.a.createElement(k.a,{label:"Remember me"}),r.a.createElement("a",{href:"/reset"},r.a.createElement(v.a,{size:"sm"},"Forgot password?"))),r.a.createElement(x.a,(e={color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},loading:D,fullWidth:!0,mt:"xl"},Object(u.a)(e,"color","dark"),Object(u.a)(e,"onClick",function(e){!function(e){e.preventDefault(),B(!0);var t=!1;o.identifier.value&&0!=o.identifier.value.length||(G("identifier","Identifier cannot be empty!"),t=!0),o.password.value&&0!=o.password.value.length||(G("password","Password cannot be empty!"),t=!0),t?B(!1):(console.log({identifier:o.identifier.value,password_hash:o.password.value}),S.a.post("https://xcarthage.herokuapp.com/api/login",{identifier:o.identifier.value,password:o.password.value}).then(function(e){console.log(e),e.data.status&&"ok"==e.data.status?(sessionStorage.setItem("username",e.data.username),sessionStorage.setItem("email",e.data.email),sessionStorage.setItem("token",e.data.token),window.location=M):e.data.status&&"error"==e.data.status&&"invalid_credentials"==e.data.label&&f({status:"error",label:"Identifier and/or password is incorrect."}),B(!1)}).catch(function(e){f({status:"fatal_error",label:"Internal error, please try again later."}),B(!1)}))}(e)}),e),"Sign in"),d&&r.a.createElement(_.a,{color:"red",mt:5,transition:"fade",icon:r.a.createElement(O.AlertCircle,{size:16})},d.label)))}var D=a(11),B=a(2111),I=a(69),F=a(2121),A=a(2130),R=a(2103),q=a(64),W=a.n(q),P=a(2120),L=a(34),H=a(2131),U=a(65),M=a.n(U),Q=Object(f.a)(function(e){return{row:{width:"100%",borderBottom:"1px solid whitesmoke",display:"inline-flex",borderLeft:"3px solid black",cursor:"pointer",backgroundColor:"white","&:hover":{backgroundColor:"whitesmoke !important"}},bodyCase:{paddingTop:"10px",paddingBottom:"10px",paddingLeft:"20px",paddingRight:"20px",fontSize:"14px"}}}),Y={exchange:O.Exchange,success:O.Checklist};function G(e){var t=Q(),a=t.classes,n=(t.cx,Y[e.icon]);return r.a.createElement("div",{className:a.row,style:{borderLeft:0==e.seen?"3px solid #087f5b":"3px solid black"}},r.a.createElement("div",{className:a.bodyCase},r.a.createElement(n,{size:20})),r.a.createElement("div",{className:a.bodyCase,style:{width:"inherit"}},e.text),r.a.createElement("div",{className:a.bodyCase,style:{textAlign:"right",width:"-webkit-fill-available"}},r.a.createElement("span",{style:{opacity:.5}},(new M.a).from(e.time))))}function V(e){var t=e.data;return Object(n.useEffect)(function(){t.length>0&&S.a.post("https://xcarthage.herokuapp.com/api/notifications/mark_seen",{token:sessionStorage.getItem("token"),lastSeenId:t[0].id})},[t]),r.a.createElement(r.a.Fragment,null,t.map(function(e){return r.a.createElement(G,{text:e.body,time:e.creation_time,seen:e.seen,icon:"exchange"})}))}var K=60,J=function(){var e=Object(n.useState)(new Audio("http://localhost:3000/Notification.mp3")),t=Object(c.a)(e,1)[0],a=Object(n.useState)(!1),r=Object(c.a)(a,2),l=r[0],o=r[1];return Object(n.useEffect)(function(){l?t.play():t.pause()},[l]),Object(n.useEffect)(function(){return t.addEventListener("ended",function(){return o(!1)}),function(){t.removeEventListener("ended",function(){return o(!1)})}},[]),[l,function(){return o(!0)}]},X=Object(f.a)(function(e){return{inner:{height:K,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"0px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.colors.gray[3])},links:Object(u.a)({},e.fn.smallerThan("sm"),{display:"none"}),burger:Object(u.a)({},e.fn.largerThan("sm"),{display:"none"}),link:{display:"block",lineHeight:1,padding:"8px 12px",borderRadius:e.radius.sm,textDecoration:"none",color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[7],fontSize:e.fontSizes.sm,fontWeight:500,"&:hover":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]}},linkLabel:{marginRight:5}}});function Z(e){var t=e.links,a=Object(D.a)(e,["links"]),l=X().classes,o=Object(R.a)(!1),i=Object(c.a)(o,2),s=i[0],m=i[1],d=Object(n.useState)(null),u=Object(c.a)(d,2),p=(u[0],u[1]),f=Object(n.useState)(!0),E=Object(c.a)(f,2),h=(E[0],E[1],Object(n.useState)(!1)),b=Object(c.a)(h,2),y=b[0],k=b[1],_=J(),C=Object(c.a)(_,2),j=(C[0],C[1]);Object(n.useEffect)(function(){var e=sessionStorage.getItem("token");e&&S.a.post("https://xcarthage.herokuapp.com/api/verif_token",{token:e}).then(function(e){var t=e.data;t.status&&"ok"==t.status||(sessionStorage.clear(),window.location="/login?session_expired")}).catch(function(e){console.log(e)})},[]),Object(n.useEffect)(function(){a.notifs.length>0&&(1==a.notifs[0].seen?k(!1):(j(),k(!0)))},[a.notifs]);var T=t.map(function(e){var t=void 0;return e.links&&e.links.length>0&&(t=e.links.map(function(e){return r.a.createElement(B.a.Item,{key:e.link},r.a.createElement(w.a,{noWrap:!0},r.a.createElement(P.a,{src:"/crypto/".concat(e.code.toUpperCase(),".svg")}),r.a.createElement("div",null,r.a.createElement(v.a,{size:"sm"},e.label," "),r.a.createElement(v.a,{size:"xs",color:"dimmed"},e.code))))})),t?r.a.createElement(B.a,{key:e.label,trigger:"hover",delay:0,transitionDuration:0,placement:"end",gutter:1,control:r.a.createElement("a",{href:e.link,className:l.link,onClick:function(e){return e.preventDefault()}},r.a.createElement(I.a,null,r.a.createElement("span",{className:l.linkLabel},e.label),r.a.createElement(O.ChevronDown,{size:12})))},t):r.a.createElement("a",{key:e.label,href:e.link,className:l.link,onClick:function(e){return e.preventDefault()}},e.label)});return r.a.createElement(F.a,{height:K,sx:{position:"sticky"}},r.a.createElement(g.a,{className:l.inner,fluid:!0},r.a.createElement(w.a,null,r.a.createElement(A.a,{opened:s,onClick:function(){return m()},className:l.burger,size:"sm"}),r.a.createElement("a",{href:"/"},r.a.createElement("img",{src:W.a,style:{height:"30px"}}))),r.a.createElement(w.a,{spacing:5,className:l.links},T),sessionStorage.getItem("token")?r.a.createElement(w.a,null,r.a.createElement(L.a,{size:"lg",ref:p,radius:"xl",onClick:function(e){e.preventDefault()}},y?r.a.createElement(H.a,{color:"red"},r.a.createElement(O.Bell,null)):r.a.createElement(O.Bell,null)),r.a.createElement(B.a,{control:r.a.createElement(I.a,{style:{cursor:"pointer"}},r.a.createElement(P.a,{color:"dark",radius:"xl",mr:10},sessionStorage.getItem("username").slice(0,2)),r.a.createElement("span",{className:l.linkLabel},sessionStorage.getItem("username")),r.a.createElement(O.ChevronDown,{ml:20,size:12}))},r.a.createElement(B.a.Item,{onClick:function(e){e.preventDefault(),window.location="/dashboard"},icon:r.a.createElement(O.Dashboard,{size:14})},"Dashboard"),r.a.createElement(B.a.Item,{onClick:function(e){e.preventDefault(),window.location="/dashboard#settings"},icon:r.a.createElement(O.Settings,{size:14})},"Settings"),r.a.createElement(B.a.Item,{icon:r.a.createElement(O.DoorExit,{size:14}),onClick:function(e){return function(e){e.preventDefault(),sessionStorage.clear(),window.location="/"}(e)}},"Log out"))):r.a.createElement(w.a,null,r.a.createElement(x.a,{onClick:function(e){e.preventDefault(),window.location="/login"},radius:"xl",color:"dark",variant:"subtle",style:{height:30}},"Log in"),r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},onClick:function(e){e.preventDefault(),window.location="/register"},radius:"xl",style:{height:30}},"Sign up"))))}var $=a(2109),ee=a(5),te=a(2110),ae=a(2114),ne=Object(f.a)(function(e){return{name:{fontSize:15,fontWeight:"bold",paddingRight:"10px"},value:{fontSize:15}}});function re(e){var t=e.data,a=ne(),l=a.classes,o=(a.cs,Object(n.useState)("")),i=Object(c.a)(o,2),s=i[0],m=i[1],d=Object(n.useState)({}),u=Object(c.a)(d,2),p=u[0],f=u[1];return r.a.createElement(ae.a,null,r.a.createElement(ae.a.Col,{span:12},r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"Deal Number "),r.a.createElement("td",{className:l.value},t.id)),r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"Cryptocurrency "),r.a.createElement("td",{className:l.value},t.crypto_id)),r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"Amount "),r.a.createElement("td",{className:l.value},t.amount," USD")),r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"Quote "),r.a.createElement("td",{className:l.value},t.sell_quote)),r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"Opening time "),r.a.createElement("td",{className:l.value},t.creation_time)),r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"Expiring time "),r.a.createElement("td",{className:l.value},t.creation_time+36e5)),r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"Status "),r.a.createElement("td",{className:l.value},t.status)),r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"Buyer receiving address "),r.a.createElement("td",{className:l.value},r.a.createElement("div",{style:{display:"inline-flex",width:"100%"}},r.a.createElement("input",{value:"0xKRYPT0N37777",style:{width:"100%"}}),r.a.createElement(x.a,{size:"xs",ml:2},"Copy")))),r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"Amount to send "),r.a.createElement("td",{className:l.value},t.amount," USD")),r.a.createElement("tr",null,r.a.createElement("td",{className:l.name},"In exchange with "),r.a.createElement("td",{className:l.value},parseFloat(t.amount)*parseFloat(t.sell_quote)-parseFloat(t.amount)*parseFloat(t.sell_quote)*.025," TND"))),r.a.createElement(ae.a.Col,{span:12,style:{textAlign:"center"},mt:10},r.a.createElement("img",{src:"/qr.png",style:{width:"100%"}})),r.a.createElement(ae.a.Col,{span:12,mt:10},r.a.createElement(h.a,{order:3},"Once you made the transaction"),r.a.createElement(b.a,{name:"transaction_id",label:"Transaction ID",onChange:function(e){m(e.currentTarget.value)}}),r.a.createElement(x.a,{variant:"default",fullWidth:!0,mt:3,onClick:function(e){e.preventDefault(),s?S.a.post("https://xcarthage.herokuapp.com/api/deals/accept",{token:sessionStorage.getItem("token"),deal_id:t.id,transaction_id:s}).then(function(e){"ok"==e.data.status?f({status:"ok",label:"Your transaction is now being confirmed, you will be notified."}):f({status:"error",label:"Error occured, please re-login and try again."})}).catch(function(e){console.log(e),f({status:"error",label:"Network error, please check your connection."})}):f({status:"error",label:"Transaction ID cannot be empty."})}},"Submit"),p.label&&r.a.createElement(_.a,{color:"ok"==p.status?"cyan":"red"},p.label)))}var le=a(2132),oe=a(2133),ie=a(17),ce=a(2115),se=a(2134),me=Object(f.a)(function(e){return{row:{width:"100%",border:"1px solid whitesmoke",borderTop:"none",display:"inline-flex",backgroundColor:"white",height:70},headerCase:{paddingTop:"10px",paddingBottom:"10px",paddingLeft:"20px",paddingRight:"20px",fontSize:"14px",lineHeight:"3",fontWeight:"bold"},bodyCase:{paddingTop:"10px",paddingBottom:"10px",paddingLeft:"20px",paddingRight:"20px",fontSize:"14px",position:"relative"},body:{backgroundColor:"white"},header:{display:"inline-flex",width:"100%",borderTopLeftRadius:e.radius.md,borderTopRightRadius:e.radius.md,backgroundColor:"white",border:"1px solid whitesmoke",position:"sticky",top:0,zIndex:3},scrolled:{boxShadow:e.shadows.sm},wrapper:{paddingTop:1*e.spacing.xl,paddingBottom:4*e.spacing.xl},title:Object(u.a)({fontFamily:"Greycliff CF, ".concat(e.fontFamily),fontWeight:900,marginBottom:e.spacing.md},e.fn.smallerThan("sm"),{fontSize:28,textAlign:"left"}),description:Object(u.a)({textAlign:"left",opacity:.4},e.fn.smallerThan("sm"),{textAlign:"left"}),vCenter:{margin:"auto",top:"50%",position:"absolute",transform:"translateY(-50%)"},vCenterContainer:{position:"relative"}}});function de(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1];return r.a.createElement(le.a,null,r.a.createElement(I.a,null,r.a.createElement(le.a,{style:{textAlign:"center"},spacing:"xs"},r.a.createElement(O.Trash,{size:100,style:{margin:"auto"}}),r.a.createElement(h.a,{order:3},"Are you sure you want to reject this deal?"),r.a.createElement(v.a,{style:{fontSize:"14px",color:"#474747"}},"Rejecting deals few times might come with penalties."))),r.a.createElement(w.a,{grow:!0,mt:20},r.a.createElement(x.a,{variant:"default",size:"md",onClick:function(t){t.preventDefault(),e.setModal({opened:!1})}},"Cancel"),r.a.createElement(x.a,{loading:l,color:"dark",size:"md",onClick:function(t){t.preventDefault(),o(!0),e.onConfirm()}},"Confirm")))}function ue(){var e=me(),t=e.classes,a=(e.cx,Object(n.useState)([])),l=Object(c.a)(a,2),o=l[0],i=l[1],s=Object(n.useState)(0),m=Object(c.a)(s,2),d=(m[0],m[1]),u=Object(n.useState)({opened:!1,component:void 0,title:void 0}),p=Object(c.a)(u,2),f=p[0],g=p[1],E=Object(n.useState)(!0),b=Object(c.a)(E,2),y=b[0],k=b[1];function _(){S.a.get("https://xcarthage.herokuapp.com/api/deals?token=".concat(sessionStorage.getItem("token"))).then(function(e){if("ok"==e.data.status){var t=e.data.data;i(t),k(!1)}}).catch(function(e){console.log(e),k(!1)})}Object(n.useEffect)(function(){_()},[]);var C=o.map(function(e,a){return r.a.createElement("div",{key:e.username,className:t.row,style:{borderLeft:"3px solid #087f5b"}},r.a.createElement("div",{className:t.bodyCase,style:{width:"15%"}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",null,r.a.createElement("img",{style:{height:"30px",marginRight:"10px",marginTop:"7px"},src:"/crypto/".concat(e.crypto_id.toUpperCase(),".svg")})),r.a.createElement("div",{style:{lineHeight:3}},e.crypto_id))),r.a.createElement("div",{className:t.bodyCase,style:{width:"15%"}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{lineHeight:3}},e.amount," USD"))),r.a.createElement("div",{className:t.bodyCase,style:{width:"10%"}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{lineHeight:3}},e.sell_quote))),r.a.createElement("div",{className:t.bodyCase,style:{width:"20%"}},r.a.createElement("div",{style:{paddingTop:14}},r.a.createElement(oe.a,{value:((new Date).getTime()-parseFloat(e.creation_time))/36e5*100>100?100:((new Date).getTime()-parseFloat(e.creation_time))/36e5*100,color:"dark",striped:!0,animate:!0,label:e.creation_time+36e5-(new Date).getTime()>0?"".concat(parseInt((e.creation_time+36e5-(new Date).getTime())/6e4)," Minutes.."):"Expired",size:"xl",radius:"md"}))),r.a.createElement("div",{className:t.bodyCase,style:{width:"15%"}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{lineHeight:3}},"D17 Digipost"))),r.a.createElement("div",{className:t.bodyCase,style:{textAlign:"right",width:"25%"}},r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(w.a,{spacing:2,grow:!0},r.a.createElement(x.a,{color:"red",variant:"subtle",size:"xs",leftIcon:r.a.createElement(O.Trash,{size:14}),onClick:function(t){t.preventDefault(),g({opened:!0,component:"reject-confirm",selectedId:e.id})}},"Reject"),r.a.createElement(x.a,{color:"teal",variant:"light",size:"xs",onClick:function(e){e.preventDefault(),d(a),console.log(o[a]),g({opened:!0,component:"deal-details",title:"Deal details"})}},"Accept")))))});return r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{opened:f.opened,onClose:function(){return g({opened:!1})},withCloseButton:f.title,title:f.title},"deal-details"==f.component&&r.a.createElement(re,{setModal:g,data:o[0]}),"reject-confirm"==f.component&&r.a.createElement(de,{setModal:g,onConfirm:function(){var e;(e=f.selectedId)?S.a.post("https://xcarthage.herokuapp.com/api/deals/reject",{token:sessionStorage.getItem("token"),deal_id:e}).then(function(e){"ok"==e.data.status?(g({opened:!1}),_()):(console.log(e),alert("Error"))}).catch(function(e){console.log(e),alert("Error111")}):alert("No deal is selected")}})),r.a.createElement("div",{style:{position:"relative",borderBottom:"1px solid whitesmoke"}},r.a.createElement(ee.a,{sx:{minWidth:700}},r.a.createElement("div",{className:t.header},r.a.createElement("div",{className:t.headerCase,style:{width:"15%"}},"Crypto"),r.a.createElement("div",{className:t.headerCase,style:{width:"15%"}},"Amount"),r.a.createElement("div",{className:t.headerCase,style:{width:"10%"}},"Quote"),r.a.createElement("div",{className:t.headerCase,style:{width:"20%"}},"Status"),r.a.createElement("div",{className:t.headerCase,style:{width:"15%"}},"Payment Via"),r.a.createElement("div",{className:t.headerCase,style:{textAlign:"right",width:"25%"}},r.a.createElement(x.a,{variant:"white",color:"dark"},"Filter"))),r.a.createElement("div",{className:t.body},1==y&&r.a.createElement("div",{className:t.row},r.a.createElement(ie.a,{size:40,color:"dark",style:{margin:"auto",marginTop:100,marginBottom:100}})),C.length>0&&0==y&&C,0==C.length&&0==y&&r.a.createElement("div",{style:{width:"100%",textAlign:"center",paddingTop:20,paddingBottom:20}},r.a.createElement(O.AlertOctagon,{size:50}),r.a.createElement(h.a,{order:4},"You have no pending deals."),r.a.createElement(v.a,{style:{opacity:.6},mb:10},"Follow the button bellow to publish your first offer!"),r.a.createElement(x.a,{variant:"default"},"Show All"))))))}function pe(e){var t=me(),a=t.classes,l=(t.cx,Object(n.useState)(!1)),o=Object(c.a)(l,2),i=(o[0],o[1],Object(n.useState)([])),s=Object(c.a)(i,2),m=s[0],d=s[1],u=Object(n.useState)({}),p=Object(c.a)(u,2),f=(p[0],p[1],Object(n.useState)(!0)),g=Object(c.a)(f,2),E=g[0],h=g[1];function v(){for(var e=window.location.search.substring(1).split("&").map(function(e){return{name:e.split("=")[0],value:e.split("=")[1]||!0}}),t="https://xcarthage.herokuapp.com/api/offers?",a={},n=0;n<e.length;n++)e[n].name&&"crypto_id"==e[n].name&&(a[e[n].name]=e[n].value),e[n].name&&"amount"==e[n].name&&(a[e[n].name]=e[n].value),e[n].name&&"max_quote"==e[n].name&&(a[e[n].name]=e[n].value);a.crypto_id&&(t+="crypto_id=".concat(a.crypto_id,"&")),a.amount&&(t+="has_amount=".concat(a.amount,"&")),a.max_quote&&(t+="max_sell_quote=".concat(a.max_quote)),S.a.get(t).then(function(e){console.log(e),"ok"==e.data.status?d(e.data.data):"auth-error"==e.data.status&&(sessionStorage.clear(),window.location="/login?session_expired"),h(!1)})}Object(n.useEffect)(function(){v(),setInterval(v,1e4)},[]);var b="15%",y=m.map(function(e){return r.a.createElement("div",{key:e.username,className:a.row},r.a.createElement("div",{className:a.bodyCase,style:{width:100}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",null,r.a.createElement(P.a,{color:"dark",radius:"xl",size:30,mt:7},e.username.slice(0,2))))),r.a.createElement("div",{className:a.bodyCase,style:{width:b}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",null,r.a.createElement("img",{style:{height:"30px",marginRight:"10px",marginTop:"7px"},src:"/crypto/".concat(e.crypto_id.toUpperCase(),".svg")})),r.a.createElement("div",{style:{lineHeight:3}},e.crypto_id))),r.a.createElement("div",{className:a.bodyCase,style:{width:b}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{lineHeight:3}},r.a.createElement("div",{style:{lineHeight:1.5}},r.a.createElement("span",null,r.a.createElement("b",null,"Min :")," ",e.min_amount," USD"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("b",null,"Max :")," ",e.reservoir," USD"))))),r.a.createElement("div",{className:a.bodyCase,style:{width:b}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{lineHeight:3}},-1==e.avg_resp_time?"N/C":e.avg_resp_time," Minute(s)"))),r.a.createElement("div",{className:a.bodyCase,style:{width:b}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{lineHeight:3}},r.a.createElement("b",null,e.sell_quote)," TND/USD"))),r.a.createElement("div",{className:a.bodyCase,style:{width:b}},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{lineHeight:3}},"Digipost D17"))),r.a.createElement("div",{className:a.bodyCase,style:{textAlign:"right",width:b}},r.a.createElement(x.a,{onClick:function(t){t.preventDefault(),window.location="/buy-crypto?offer_id=".concat(e.id)},color:"violet",variant:"subtle",style:{margin:"auto",marginRight:"0px"}},"Buy")))});return r.a.createElement("div",{style:{position:"relative",borderBottom:"1px solid whitesmoke"}},r.a.createElement(ee.a,{sx:{minWidth:700}},r.a.createElement("div",{className:a.header},r.a.createElement("div",{className:a.headerCase,style:{width:100}},"Seller"),r.a.createElement("div",{className:a.headerCase,style:{width:b}},"Currency"),r.a.createElement("div",{className:a.headerCase,style:{width:b}},"Reservoir"),r.a.createElement("div",{className:a.headerCase,style:{width:b}},"Avg Response Time"),r.a.createElement("div",{className:a.headerCase,style:{width:b}},"Quote"),r.a.createElement("div",{className:a.headerCase,style:{width:b}},"Payment via"),r.a.createElement("div",{className:a.headerCase,style:{textAlign:"right",width:b}},r.a.createElement(x.a,{variant:"white",color:"dark"},"Filter"))),r.a.createElement("div",{className:a.body},E?r.a.createElement("div",{style:{height:400,width:"100%",position:"relative"}},r.a.createElement(se.a,{visible:E})):y)))}function fe(e){var t=me(),a=t.classes,l=(t.cx,Object(n.useState)(!1)),o=Object(c.a)(l,2),i=(o[0],o[1],Object(n.useState)([])),s=Object(c.a)(i,2),m=s[0],d=s[1],u=Object(n.useState)({opened:!1,component:void 0,title:void 0}),p=Object(c.a)(u,2),f=p[0],g=p[1],E=Object(n.useState)(!0),b=Object(c.a)(E,2),y=b[0],w=b[1];function k(){var e;w(!0),e="https://xcarthage.herokuapp.com/api/offers/dashboard_pull?token=".concat(sessionStorage.getItem("token")),S.a.get(e).then(function(e){console.log(e),"ok"==e.data.status?d(e.data.data):"auth-error"==e.data.status&&(sessionStorage.clear(),window.location="/login?session_expired"),w(!1)})}Object(n.useEffect)(function(){k()},[]);var _="15%",C=m.map(function(e){return r.a.createElement("div",{key:e.username,className:a.row},r.a.createElement("div",{className:a.bodyCase,style:{width:"10%"}},r.a.createElement("div",{className:a.vCenter},e.id)),r.a.createElement("div",{className:a.bodyCase,style:{width:_}},r.a.createElement("div",{className:a.vCenter},r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",null,r.a.createElement("img",{style:{height:"30px",marginRight:"10px",marginTop:"7px"},src:"/crypto/".concat(e.crypto_id.toUpperCase(),".svg")})),r.a.createElement("div",{style:{lineHeight:3}},e.crypto_id)))),r.a.createElement("div",{className:a.bodyCase,style:{width:_}},r.a.createElement("div",{className:a.vCenter},r.a.createElement("span",null,r.a.createElement("b",null,"Min :")," ",e.min_amount," USD"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("b",null,"Max :")," ",e.reservoir," USD"))),r.a.createElement("div",{className:a.bodyCase,style:{width:_}},r.a.createElement("div",{className:a.vCenter},r.a.createElement("b",null,e.sell_quote)," TND/USD")),r.a.createElement("div",{className:a.bodyCase,style:{width:_}},r.a.createElement("div",{className:a.vCenter},r.a.createElement(ce.a,{size:60,thickness:7,sections:[{value:parseFloat(e.amount_sold)/parseFloat(e.reservoir)*100,color:"dark"}],label:r.a.createElement(v.a,{color:"dark",weight:700,align:"center",size:"xs"},parseFloat(e.amount_sold)/parseFloat(e.reservoir)*100,"%")}))),r.a.createElement("div",{className:a.bodyCase,style:{width:_}},r.a.createElement("div",{className:a.vCenter},e.status)),r.a.createElement("div",{className:a.bodyCase,style:{textAlign:"right",width:_}},r.a.createElement("div",{className:a.vCenter,style:{right:10}},r.a.createElement(B.a,null,r.a.createElement(B.a.Item,{icon:r.a.createElement(O.Trash,{size:14}),onClick:function(t){t.preventDefault(),g({opened:!0,component:"drop-confirm",target:e.id})}},"Drop"),r.a.createElement(B.a.Item,{icon:r.a.createElement(O.ArrowDownLeft,{size:14})},"Sales"),r.a.createElement(B.a.Item,{icon:r.a.createElement(O.Pencil,{size:14})},"Edit"),r.a.createElement(B.a.Item,{icon:r.a.createElement(O.PlayerPause,{size:14})},"Pause")))))});return r.a.createElement("div",{style:{height:500,position:"relative",overflowY:"scroll",borderBottom:"1px solid whitesmoke"}},r.a.createElement(te.a,{opened:f.opened,onClose:function(){return g({opened:!1})},withCloseButton:f.title,title:f.title},"drop-confirm"==f.component&&r.a.createElement(de,{setModal:g,onConfirm:function(){var e;(e=f.target)&&S.a.post("https://xcarthage.herokuapp.com/api/offers/delete",{token:sessionStorage.getItem("token"),offer_id:e}).then(function(e){console.log(e),"ok"==e.data.status?(g({opened:!1}),k()):(g({opened:!1}),alert("Offer cannot be deleted."))}).catch(function(e){console.log(e),g({opened:!1}),alert("Offer cannot be deleted, please try again later")})}})),r.a.createElement(ee.a,{sx:{minWidth:200}},r.a.createElement("div",{className:a.header},r.a.createElement("div",{className:a.headerCase,style:{width:"10%"}},"#"),r.a.createElement("div",{className:a.headerCase,style:{width:_}},"Currency"),r.a.createElement("div",{className:a.headerCase,style:{width:_}},"Conditions"),r.a.createElement("div",{className:a.headerCase,style:{width:_}},"Quote"),r.a.createElement("div",{className:a.headerCase,style:{width:_}},"Reservoir"),r.a.createElement("div",{className:a.headerCase,style:{width:_}},"Status"),r.a.createElement("div",{className:a.headerCase,style:{textAlign:"right"}},r.a.createElement(x.a,{variant:"white",color:"dark"},"Filter"))),r.a.createElement("div",{className:a.body},1==y&&r.a.createElement("div",{className:a.row},r.a.createElement(ie.a,{size:40,color:"dark",style:{margin:"auto",marginTop:100,marginBottom:100}})),C.length>0&&0==y&&C,0==C.length&&0==y&&r.a.createElement("div",{style:{width:"100%",textAlign:"center",paddingTop:20,paddingBottom:20}},r.a.createElement(O.AlertOctagon,{size:50}),r.a.createElement(h.a,{order:4},"You have no listed offers."),r.a.createElement(v.a,{style:{opacity:.6},mb:10},"Follow the button bellow to publish your first offer!"),r.a.createElement(x.a,{variant:"default",onClick:function(t){t.preventDefault(),e.navigate("#offers-create")}},"Create Offer")))))}var ge=a(30),Ee=a(2122),he=a(70),ve=a.n(he),be=a(71),ye=a.n(be),we=a(72),ke=a.n(we),xe=a(73),_e=a.n(xe),Ce=Object(f.a)(function(e){return{wrapper:{paddingTop:5*e.spacing.xl,paddingBottom:1*e.spacing.xl,paddingRight:20,paddingLeft:20,margin:0,maxWidth:"unset",width:"100%"},title:Object(u.a)({marginBottom:e.spacing.md},e.fn.smallerThan("sm"),{fontSize:28,textAlign:"left"}),description:Object(u.a)({},e.fn.smallerThan("sm"),{textAlign:"left"})}});function Se(){var e=Ce().classes,t=Object(ge.d)();return r.a.createElement(g.a,{className:e.wrapper},r.a.createElement(h.a,{order:3},"Our key features"),r.a.createElement(Ee.a,{mt:60,cols:4},r.a.createElement("div",null,r.a.createElement("img",{src:ve.a,height:"50"}),r.a.createElement(v.a,{style:{marginTop:t.spacing.sm,marginBottom:7}},"Instant"),r.a.createElement(v.a,{size:"sm",color:"dimmed",style:{lineHeight:1.6}},"Exchange speed depends from seller to another but some sellers will fulfill your trade in a matter of seconds.")),r.a.createElement("div",null,r.a.createElement("img",{src:ye.a,height:"50"}),r.a.createElement(v.a,{style:{marginTop:t.spacing.sm,marginBottom:7}},"Anonymous"),r.a.createElement(v.a,{size:"sm",color:"dimmed",style:{lineHeight:1.6}},"Every user is protected and private, even the user you trade with won't have no clue about your identity.")),r.a.createElement("div",null,r.a.createElement("img",{src:ke.a,height:"50"}),r.a.createElement(v.a,{style:{marginTop:t.spacing.sm,marginBottom:7}},"Safety first"),r.a.createElement(v.a,{size:"sm",color:"dimmed",style:{lineHeight:1.6}},"Safety makes comfortness, you don't need to maintain trust to exchange. We code trust in our algorithms therefore we eliminate any possibility of funds loss.")),r.a.createElement("div",null,r.a.createElement("img",{src:_e.a,height:"50"}),r.a.createElement(v.a,{style:{marginTop:t.spacing.sm,marginBottom:7}},"Fair Ranking"),r.a.createElement(v.a,{size:"sm",color:"dimmed",style:{lineHeight:1.6}},"Our ranking algorithm will only rank you up depending on your sell rate and response time, and we make sure to give our new sellers a small periority to thrive."))))}var Oe=a(74),je=a.n(Oe),Te=Object(f.a)(function(e){return{footer:{paddingTop:2*e.spacing.xl,paddingBottom:2*e.spacing.xl,backgroundColor:"#0d1118"},logo:Object(u.a)({maxWidth:200},e.fn.smallerThan("sm"),{display:"flex",flexDirection:"column",alignItems:"center"}),description:Object(u.a)({marginTop:5},e.fn.smallerThan("sm"),{marginTop:e.spacing.xs,textAlign:"center"}),inner:Object(u.a)({paddingLeft:20,paddingRight:20,margin:0,width:"100%",maxWidth:"unset",display:"flex",justifyContent:"space-between"},e.fn.smallerThan("sm"),{flexDirection:"column",alignItems:"center"}),groups:Object(u.a)({display:"flex",flexWrap:"wrap"},e.fn.smallerThan("sm"),{display:"none"}),wrapper:{width:160},link:{display:"block",color:e.colors.dark[1],fontSize:e.fontSizes.sm,paddingTop:3,paddingBottom:3,"&:hover":{textDecoration:"underline"}},title:{fontSize:e.fontSizes.lg,fontWeight:700,fontFamily:"Greycliff CF, ".concat(e.fontFamily),marginBottom:e.spacing.xs/2,color:e.colors.gray[1]},afterFooter:Object(u.a)({display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:20,paddingRight:20,margin:0,width:"100%",maxWidth:"unset",marginTop:e.spacing.xl,paddingTop:e.spacing.xl,paddingBottom:e.spacing.xl,borderTop:"1px solid ".concat(e.colors.dark[7])},e.fn.smallerThan("sm"),{flexDirection:"column"}),social:Object(u.a)({},e.fn.smallerThan("sm"),{marginTop:e.spacing.xs})}}),Ne=[{title:"Project",links:[{label:"Maintainers",link:"/"},{label:"Vision",link:"/"},{label:"Supporters",link:"/"}]},{title:"Community",links:[{label:"Affiliate Marketing",link:"/"},{label:"Privacy concerns",link:"/"},{label:"Donate",link:"/"}]}];function ze(){var e=Te().classes,t=Ne.map(function(t){var a=t.links.map(function(t,a){return r.a.createElement("a",{key:a,className:e.link,component:"a",href:t.link,onClick:function(e){return e.preventDefault()}},t.label)});return r.a.createElement("div",{className:e.wrapper,key:t.title},r.a.createElement(v.a,{className:e.title},t.title),a)});return r.a.createElement("footer",{className:e.footer},r.a.createElement(g.a,{className:e.inner},r.a.createElement("div",{className:e.logo},r.a.createElement("img",{src:je.a,height:"30px"}),r.a.createElement(v.a,{size:"xs",color:"dimmed",className:e.description},"Safe Exchange Marketplace")),r.a.createElement("div",{className:e.groups},t)),r.a.createElement(g.a,{className:e.afterFooter},r.a.createElement(v.a,{color:"dimmed",size:"sm"},"\xa9 2022 carthage.exchange . All rights reserved."),r.a.createElement(w.a,{spacing:0,className:e.social,position:"right",noWrap:!0},r.a.createElement(L.a,{size:"lg"},r.a.createElement(O.BrandTwitter,{size:18})),r.a.createElement(L.a,{size:"lg"},r.a.createElement(O.BrandYoutube,{size:18})),r.a.createElement(L.a,{size:"lg"},r.a.createElement(O.BrandInstagram,{size:18})))))}var De=Object(f.a)(function(e){return{root:{backgroundColor:"#0d1118",backgroundRepeat:"repeat",backgroundPosition:"center",backgroundImage:"url(/pattern.svg)",paddingTop:3*e.spacing.xl,paddingBottom:3*e.spacing.xl,position:"relative"},inner:Object(u.a)({display:"flex",justifyContent:"space-between"},e.fn.smallerThan("md"),{flexDirection:"column"}),image:Object(u.a)({},e.fn.smallerThan("md"),{display:"none"}),content:Object(u.a)({paddingTop:2*e.spacing.xl,paddingBottom:2*e.spacing.xl,marginRight:"20px"},e.fn.smallerThan("md"),{marginRight:0}),title:Object(u.a)({color:e.white,fontFamily:"Greycliff CF, ".concat(e.fontFamily),fontWeight:900,lineHeight:1.05,maxWidth:500,fontSize:48},e.fn.smallerThan("md"),{maxWidth:"100%",fontSize:34,lineHeight:1.15}),description:Object(u.a)({color:e.white,opacity:.75,maxWidth:500},e.fn.smallerThan("md"),{maxWidth:"100%"}),control:Object(u.a)({paddingLeft:50,paddingRight:50,fontFamily:"Greycliff CF, ".concat(e.fontFamily),fontSize:22},e.fn.smallerThan("md"),{width:"100%"})}});function Be(e){var t=r.a.forwardRef(function(e,t){var a=e.label,n=e.value,l=(e.reservoir,e.bestQ,Object(D.a)(e,["label","value","reservoir","bestQ"]));return r.a.createElement("div",Object.assign({ref:t,key:n},l),r.a.createElement(w.a,{noWrap:!0},r.a.createElement(P.a,{src:"/crypto/".concat(n.toUpperCase(),".svg")}),r.a.createElement("div",null,r.a.createElement(v.a,null,a))))});return r.a.createElement(w.a,{style:e.style},r.a.createElement($.a,{value:"All",leftSection:r.a.createElement(O.CurrencyEthereum,{size:14}),itemComponent:t,data:[{label:"Bitcoin",value:"BTC"},{label:"Tether",value:"USDT"},{label:"Ethereum",value:"ETH"},{label:"Binance",value:"BNB"}],defaultValue:"Bitcoin",searchable:!0,maxDropdownHeight:200,size:"lg",styles:{input:{border:"none",backgroundColor:"#ffffff24",fontSize:"15px"}}}),r.a.createElement(b.a,{placeholder:"Amount in USD..",size:"lg",styles:{input:{border:"none",backgroundColor:"#ffffff24",fontSize:"15px",color:"white"}}}),r.a.createElement(x.a,{color:"dark",size:"lg",variant:"gradient",leftIcon:r.a.createElement(O.Search,null),gradient:{from:"#4776E6",to:"#8E54E9"}},"Explore Offers"))}function Ie(){var e=De().classes;return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,{size:"lg",m:0},r.a.createElement("div",{className:e.inner},r.a.createElement("div",{className:e.content},r.a.createElement(h.a,{className:e.title},"Buy and sell"," ",r.a.createElement(v.a,{component:"span",inherit:!0,variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"}},"Cryptocurrency")," ","instantly&securely in Tunisia."),r.a.createElement(v.a,{className:e.description,mt:30},"We unite all cryptocurrency sellers and buyers in one place and we keep our community away from scammers."),r.a.createElement(Be,{style:{marginTop:50}}))),r.a.createElement("div",{style:{position:"absolute",bottom:-100,width:"100%",right:0,overflowY:"scroll",overflow:"hidden"}},r.a.createElement(Ae,null))))}function Fe(e){var t=e.name,a=e.code,n=e.reservoir,l=e.bestQ;return r.a.createElement(ee.a,{sx:function(e){return{height:"120px",borderRadius:e.radius.md,backgroundColor:"white",display:"inline-flex",width:"max-content",paddingRight:"20px",marginRight:"10px",cursor:"pointer",boxShadow:"0px 0px 5px 0px #0d111824"}},onClick:function(e){e.preventDefault(),window.location="/reservoir?crypto_id=".concat(a)}},r.a.createElement("div",{style:{padding:"20px",width:120}},r.a.createElement("img",{style:{height:"100%"},src:"/crypto/".concat(a,".svg")})),r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement(h.a,{order:4},t," ",r.a.createElement("span",{style:{opacity:"0.5"}},a)),r.a.createElement("div",{style:{display:"inline-flex"}},r.a.createElement("div",{style:{width:"max-content",marginRight:"15px"}},r.a.createElement("span",{style:{opacity:"0.5",fontSize:"12px"}},"OUR RESERVOIR"),r.a.createElement(h.a,{order:4},n)),r.a.createElement("div",{style:{width:"max-content"}},r.a.createElement("span",{style:{opacity:"0.5",fontSize:"12px"}},"BEST QUOTE"),r.a.createElement(h.a,{order:4},l)))))}function Ae(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"inline-flex",flexWrap:"nowrap",paddingTop:20,paddingBottom:20,paddingLeft:10}},[{name:"Bitcoin",code:"BTC",reservoir:"321.2 BTC",bestQ:"3.2"},{name:"Tether",code:"USDT",reservoir:"432 K",bestQ:"3.1",icon:"https://s2.coinmarketcap.com/static/img/coins/200x200/825.png"},{name:"Ethereum",code:"ETH",reservoir:"201 K",bestQ:"3.1"},{name:"Binance",code:"BNB",reservoir:"201 K",bestQ:"3.1"}].map(function(e){return r.a.createElement(Fe,e)})))}function Re(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,null),r.a.createElement(Se,null),r.a.createElement(ee.a,{mt:20,p:20},r.a.createElement(ee.a,{mb:20},r.a.createElement(x.a,{size:"sm",color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},style:{float:"right"},onClick:function(e){e.preventDefault(),window.location="/dashboard#offers-create"}},"Post Offer"),r.a.createElement(h.a,{order:3},"Browse our offer listings")),r.a.createElement(pe,null)),r.a.createElement(ee.a,{style:{backgroundColor:"#f8fafb"},px:20,py:50},r.a.createElement(h.a,{order:2},"Start Selling Crypto Now"),r.a.createElement(v.a,{mb:20,style:{opacity:.7}},"Start your profitable journey by trading crypto at Carthage.exchange and compete to be in our top sellers."),r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},size:"lg",radius:"xl"},"Get Started")),r.a.createElement(ze,null))}var qe=Object(f.a)(function(e){return{wrapper:{width:"100%",display:"inline-flex"},form:Object(u.a)({width:"50%",borderRight:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[7]:e.colors.gray[3]),paddingTop:80},"@media (max-width: ".concat(e.breakpoints.sm,"px)"),{maxWidth:"100%"}),title:{color:"dark"===e.colorScheme?e.white:e.black,fontFamily:"Greycliff CF, ".concat(e.fontFamily)},logo:{color:"dark"===e.colorScheme?e.white:e.black,width:120,display:"block",marginLeft:"auto",marginRight:"auto"},imageContainer:{backgroundColor:"#0d1118",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:"url(/pattern.svg)",paddingTop:3*e.spacing.xl,paddingBottom:3*e.spacing.xl,position:"relative"}}});function We(){var e=qe().classes,t=Object(n.useState)({username:{value:"",error:void 0},email:{value:"",error:void 0},password:{value:"",error:void 0},password_repeat:{value:"",error:void 0},phone_number:{value:"",error:void 0},iAccept:{value:!1,error:void 0}}),a=Object(c.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(),s=Object(c.a)(i,2),m=(s[0],s[1]),d=Object(n.useState)(!1),u=Object(c.a)(d,2),f=u[0],g=u[1],w=Object(n.useState)(!1),_=Object(c.a)(w,2),C=_[0];_[1];function O(e,t){var a=Object(p.a)({},l);a[e].value=t,a[e].error=void 0,o(a)}function j(e,t){var a=Object(p.a)({},l);a[e].error=t,o(a)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.wrapper},r.a.createElement(E.a,{className:e.form,radius:0,p:"lg",pt:0},r.a.createElement(h.a,{order:2,className:e.title,mt:20,mb:2},"Registration"),r.a.createElement(v.a,{mb:20,mt:0,color:"dimmed",size:"sm"},"Buy and Sell Crypto easily and risk free."),r.a.createElement(b.a,{mb:10,rightSection:C&&r.a.createElement(ie.a,{size:"xs"}),value:l.username.value,name:"username",onChange:function(e){return O(e.currentTarget.name,e.currentTarget.value)},label:"Username",size:"md",error:l.username.error}),r.a.createElement(b.a,{mb:10,value:l.email.value,label:"Email address",name:"email",onChange:function(e){return O(e.currentTarget.name,e.currentTarget.value)},size:"md",error:l.email.error}),r.a.createElement(b.a,{mb:10,value:l.phone_number.value,label:"Phone number",name:"phone_number",onChange:function(e){return O(e.currentTarget.name,e.currentTarget.value)},size:"md",error:l.phone_number.error}),r.a.createElement(y.a,{mb:10,value:l.password.value,label:"Password",name:"password",onChange:function(e){return O(e.currentTarget.name,e.currentTarget.value)},size:"md",error:l.password.error}),r.a.createElement(y.a,{mb:10,value:l.password_repeat.value,label:"Repeat Password",name:"password_repeat",onChange:function(e){return O(e.currentTarget.name,e.currentTarget.value)},size:"md",error:l.password_repeat.error}),r.a.createElement(k.a,{label:"I have read and I agree on all the terms and conditions.",mt:"xl",size:"md",checked:"on"==l.iAccept.value,name:"iAccept",onChange:function(e){return O(e.currentTarget.name,e.currentTarget.value)}}),r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},loading:f,fullWidth:!0,mt:"xl",size:"md",onClick:function(e){return function(e){e.preventDefault(),console.log(l),g(!0);var t=!1;l.username.value&&0!=l.username.value.length||(j("username","Username cannot be empty!"),t=!0),l.email.value&&0!=l.email.value.length||(j("email","Email cannot be empty!"),t=!0),l.password.value&&0!=l.password.value.length||(j("password","Password cannot be empty!"),t=!0),l.password_repeat.value&&l.password_repeat.value==l.password.value||(j("password_repeat","Please type your password again!"),t=!0),l.phone_number.value&&l.phone_number.value==l.phone_number.value||(j("phone_number","Phone number cannot be empty!"),t=!0),t?g(!1):S.a.post("https://xcarthage.herokuapp.com/api/register",{username:l.username.value,email:l.email.value,password:l.password.value,phone_number:l.phone_number.value}).then(function(e){if(console.log(e),e.data.status&&"ok"==e.data.status)window.location="/login?identifier="+l.email.value+"&account_created";else if(e.data.status&&"error"==e.data.status&&e.data.fields&&e.data.fields.length>0)for(var t=e.data.fields,a=0;a<t.length;a++)j(t[a].name,t[a].label);g(!1)}).catch(function(e){m({status:"fatal_error",label:"Internal error, please try again later."}),g(!1)})}(e)}},"Sign up"),r.a.createElement(v.a,{align:"center",mt:"md"},"You already have an account?"," ",r.a.createElement("a",{href:"/login",weight:700},"Log in"))),r.a.createElement("div",{style:{width:"50%"},className:e.imageContainer})),r.a.createElement(ze,null))}a(2091);var Pe=a(35),Le=a(28),He=a(2117),Ue=a(2113);a(2092);function Me(){var e=Object(n.useState)(0),t=Object(c.a)(e,2),a=t[0],l=t[1],o=function(){return l(function(e){return e<4?e+1:e})},i=function(){return l(function(e){return e>0?e-1:e})},s=Object(n.useState)({step1:{"buy-amount":void 0},step2:{}}),m=Object(c.a)(s,2),d=m[0],u=m[1],f=Object(n.useState)(),g=Object(c.a)(f,2),E=g[0],b=g[1],y=Object(n.useState)(-1),k=Object(c.a)(y,2),C=k[0],j=k[1],T=Object(n.useState)({id:0,crypto_id:void 0,reservoir:void 0,min_amount:void 0,max_amount:void 0,sell_quote:void 0}),N=Object(c.a)(T,2),z=N[0],D=N[1],B=Object(n.useState)({}),I=Object(c.a)(B,2),F=I[0],A=I[1];function R(e,t){var a=Object(p.a)({},F);a[e]=t,A(a)}function q(e){if(0==a){if(!e["buy-amount"]||e["buy-amount"]<=0)return R("buy-amount","Invalid value for amount."),void l(0);(t=Object(p.a)({},d)).step1=e,u(t),o()}else if(1==a){if(!e["wallet-adr"]||0==e["wallet-adr"].length)return R("wallet-adr","Wallet Address cannot be empty."),void l(1);if(!e["phone-num"]||0==e["phone-num"].length)return l(1),void R("phone-num","D17 Number cannot be empty.");var t;(t=Object(p.a)({},d)).step2=e,u(t),S.a.post("https://xcarthage.herokuapp.com/api/deals/create",{token:sessionStorage.getItem("token"),amount:d.step1["buy-amount"],offer_id:z.id,wallet_adr:e["wallet-adr"],recv_num:e["phone-num"]}).then(function(e){"ok"==e.data.status?window.location=window.location+"&deal_id="+e.data.deal_id:"auth-error"==e.data.status?(sessionStorage.clear(),window.location="/login?session_expired&redirect_to=".concat(btoa(window.location))):(console.log(e),alert("Internal error, please try again later."))}).catch(function(e){console.log(e),alert("Internal error, please try again later.")})}else 2==a?S.a.post("https://xcarthage.herokuapp.com/api/deals/set/buyer-placed",{token:sessionStorage.getItem("token"),deal_id:E}).then(function(e){"ok"==e.data.status?o():(console.log(e),alert("Internal error, please try again later."))}):o()}function W(e){S.a.get("https://xcarthage.herokuapp.com/api/offers/offer_details?offer_id=".concat(e)).then(function(t){console.log(t),"ok"==t.data.status?(D({id:e,crypto_id:t.data.crypto_id,reservoir:t.data.reservoir,min_amount:t.data.min_amount,max_amount:t.data.max_amount,sell_quote:t.data.sell_quote}),console.log(z)):window.location="/offer_not_found"})}function P(e){var t=Object(n.useState)(e.form),l=Object(c.a)(t,2),o=l[0],i=l[1],s=Object(n.useState)({}),m=Object(c.a)(s,2),d=m[0],u=m[1];function f(e,t){var a=Object(p.a)({},d);void 0==t?delete a[e]:a[e]=t,u(a)}return r.a.createElement("div",{style:{height:"380px",position:"relative"}},r.a.createElement(h.a,{order:4},"Select amount "),r.a.createElement(Pe.a,{id:"buy-amount",required:!0,label:"Amount to buy (USD worth of ".concat(z.crypto_id,") :"),error:d["buy-amount"],mt:5,mb:5},r.a.createElement(Le.a,{id:"buy-amount",placeholder:"Minimum ".concat(z.min_amount," USD, Maximum ").concat(z.max_amount," USD."),name:"buy-amount",value:o["buy-amount"],onChange:function(e){return function(e,t){var a=Object(p.a)({},o);a[e]=t,d[e]&&f(e,void 0),"buy-amount"==e&&((parseFloat(a["buy-amount"])<parseFloat(z.min_amount)||parseFloat(a["buy-amount"])>parseFloat(z.max_amount))&&f("buy-amount","Selected amount is out of the allowed range."),parseFloat(a["buy-amount"])||f("buy-amount","Amount cannot be empty."),a["buy-fee"]=parseFloat(parseFloat(t)*z.sell_quote*C/100).toFixed(2),a["buy-pay"]=parseFloat(parseFloat(t)*z.sell_quote+parseFloat(a["buy-fee"])).toFixed(2)),i(a),console.log(a)}(e.currentTarget.name,e.currentTarget.value)}})),r.a.createElement(Pe.a,{id:"buy-quote",required:!0,label:"Rate :",mb:5},r.a.createElement(Le.a,{id:"buy-quote",readOnly:!0,name:"buy-quote",value:z.sell_quote})),r.a.createElement(Pe.a,{id:"buy-fee",label:"System fee (".concat(C,"%):"),mb:5},r.a.createElement(Le.a,{id:"buy-fee",readOnly:!0,name:"buy-fee",value:o["buy-fee"]})),r.a.createElement(Pe.a,{id:"buy-pay",required:!0,label:"Subtotal (TND) :",mb:5},r.a.createElement(Le.a,{id:"buy-pay",readOnly:!0,name:"buy-pay",value:o["buy-pay"]})),r.a.createElement("div",{style:{width:"100%",position:"absolute",bottom:0}},r.a.createElement(x.a,{variant:"default",onClick:function(t){t.preventDefault(),e.prevStep()},size:"md",disabled:0==a||3==a},"Previous"),r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},onClick:function(t){t.preventDefault(),e.handleStepSubmit(o)},disabled:Object.keys(d).length>0,size:"md",style:{margin:"auto",marginRight:"0px",float:"right"}},"Next")))}function L(e){var t=Object(n.useState)(e.form),l=Object(c.a)(t,2),o=l[0],i=l[1],s=Object(n.useState)({}),m=Object(c.a)(s,2),d=m[0];m[1];function u(e,t){var a=Object(p.a)({},o);a[e]=t,i(a)}return r.a.createElement("div",{style:{height:"380px",position:"relative"}},r.a.createElement(h.a,{order:4},"Payment details"),r.a.createElement(Pe.a,{id:"wallet-adr",required:!0,error:d["wallet-adr"],label:"Your ".concat(z.crypto_id," Wallet Address :"),description:"Please be careful while entering the address, any wrong character will lead to permanat funds loss.",mt:5,mb:5},r.a.createElement(Le.a,{value:o["wallet-adr"],name:"wallet-adr",onChange:function(e){return u(e.currentTarget.name,e.currentTarget.value)}})),r.a.createElement(Pe.a,{id:"phone-num",required:!0,error:d["phone-num"],label:"Your Phone Number :",description:"Please enter the phone number of your D17 transaction.",mt:5,mb:5},r.a.createElement(Le.a,{value:o["phone-num"],name:"phone-num",onChange:function(e){return u(e.currentTarget.name,e.currentTarget.value)}})),r.a.createElement("div",{style:{width:"100%",position:"absolute",bottom:0}},r.a.createElement(x.a,{variant:"default",onClick:function(t){t.preventDefault(),e.prevStep()},size:"md",disabled:0==a||3==a},"Previous"),r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},onClick:function(t){t.preventDefault(),e.handleStepSubmit(o)},disabled:2==a||3==a,size:"md",style:{margin:"auto",marginRight:"0px",float:"right"}},"Next")))}function H(e){var t=Object(n.useState)({total:void 0,phone_number:void 0}),a=Object(c.a)(t,2),o=a[0],i=a[1];return Object(n.useEffect)(function(){S.a.get("https://xcarthage.herokuapp.com/api/params/recv_number").then(function(e){e.data&&S.a.get("https://xcarthage.herokuapp.com/api/deals/info?token=".concat(sessionStorage.getItem("token"),"&deal_id=").concat(E)).then(function(t){"ok"==t.data.status?"created"==t.data.dealStatus?i({total:t.data.total,phone_number:e.data}):l(3):alert("Deal cannot be found. Please create a new one.")})})},[]),r.a.createElement("div",{style:{width:"100%",height:"380px",textAlign:"center"}},r.a.createElement("div",{style:{paddingTop:50}},r.a.createElement(ie.a,{color:"dark",style:{margin:"auto"}}),r.a.createElement(h.a,{order:3},"Waiting for you"),r.a.createElement("span",null,"Please send the specified amount to the our middle D17 number."),r.a.createElement("br",null),r.a.createElement("span",null,"Once you finish sending, please hit next."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{paddingTop:10,paddingBottom:10,paddingLeft:20,paddingRight:20,border:"2px solid  #333333bf",borderStyle:"dashed",borderRadius:6,width:"max-content",margin:"auto"}},"Please send ",r.a.createElement("span",{style:{padding:5,borderRadius:5,background:"linear-gradient(45deg, #4776E6 0%, #8E54E9 100%)",color:"white",fontWeight:"bold"}},parseFloat(o.total).toFixed(2)||" Loading.. "," TND")," to this number ",r.a.createElement("span",{style:{padding:5,borderRadius:5,background:"linear-gradient(45deg, #4776E6 0%, #8E54E9 100%)",color:"white",fontWeight:"bold"}},o.phone_number||" Loading.. ")," via your D17 app.")))}function U(e){var t=e.currentStep;return r.a.createElement("div",{style:{width:"max-content",margin:"auto",textAlign:"left"}},["Confirming your fiat transaction.","Waiting for Seller to respond.","Seller responded, confirming his transaction.","Forwarding crypto to your wallet."].map(function(e,a){return r.a.createElement("tr",{style:{marginBottom:10}},r.a.createElement("td",null,a==t&&r.a.createElement(ie.a,{color:"dark",size:29,style:{marginBottom:"-8px",boxSizing:"border-box",padding:"2px"}})," ",a>t&&r.a.createElement(O.CircleCheck,{size:30,style:{marginBottom:"-8px",opacity:0}})," ",a<t&&r.a.createElement(O.CircleCheck,{size:30,style:{marginBottom:"-8px"}})),r.a.createElement("td",{style:{paddingLeft:10,opacity:"waiting"==e.status?.5:1}},e))}))}function M(){var e=Object(n.useState)(0),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],m=i[1];return Object(n.useEffect)(function(){setInterval(function(){S.a.get("https://xcarthage.herokuapp.com/api/deals/status?token=".concat(sessionStorage.getItem("token"),"&deal_id=").concat(E)).then(function(e){if("ok"==e.data.status){var t=0;"buyer-placed"==e.data.deal_status&&(t=0),"buyer-placed-confirmed"==e.data.deal_status&&(t=1),"seller-placed"==e.data.deal_status&&(t=2),"seller-placed-confirmed"==e.data.deal_status&&(t=3),"deal-closed"==e.data.deal_status&&(t=4),"crypto-forwarded"==e.data.deal_status&&(t=4),"rejected"==e.data.deal_status&&(t=-1),l(t)}})},1e4)},[]),r.a.createElement(r.a.Fragment,null,4==a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:350,paddingTop:50,position:"relative",textAlign:"center"}},r.a.createElement(O.CircleCheck,{size:30}),r.a.createElement(h.a,{order:3},"Success!"),r.a.createElement(v.a,{mb:10,mt:5,color:"dimmed",size:"sm"},"Your deal is successfully closed, your crypto should be in your wallet in any minute."),r.a.createElement(v.a,{mb:10,mt:5,color:"dimmed",size:"sm"},"Transaction ID: ",r.a.createElement("span",{style:{padding:5,borderRadius:5,background:"linear-gradient(45deg, #4776E6 0%, #8E54E9 100%)",color:"white",fontWeight:"bold"}},"0f23231288df32909932")),r.a.createElement(w.a,{style:{margin:"auto",width:"fit-content"},mt:20},r.a.createElement(x.a,{onClick:function(e){e.preventDefault(),m(!s)},variant:s?"filled":"default",color:s&&"indigo",leftIcon:r.a.createElement(O.ThumbUp,{size:16})},"Like seller"),r.a.createElement(x.a,{variant:"default"},"Browse more offers")))),-2==a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:350,paddingTop:50,position:"relative",textAlign:"center"}},r.a.createElement(O.AlertTriangle,{size:30}),r.a.createElement(h.a,{order:3},"Deal expired!"),r.a.createElement(v.a,{mb:10,mt:5,color:"dimmed",size:"sm"},"Your deal got expired because the seller did not respond to your deal within 1 Hour. Your money will be transfered to you immediately."),r.a.createElement(w.a,{style:{margin:"auto",width:"fit-content"},mt:20},r.a.createElement(x.a,{onClick:function(e){e.preventDefault(),m(!s)},variant:s?"filled":"default",color:s&&"red",leftIcon:r.a.createElement(O.ThumbDown,{size:16})},"Dislike seller"),r.a.createElement(x.a,{variant:"default"},"Browse more offers")))),-1==a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{height:350,paddingTop:50,position:"relative",textAlign:"center"}},r.a.createElement(O.AlertTriangle,{size:30}),r.a.createElement(h.a,{order:3},"Deal got rejected!"),r.a.createElement(v.a,{mb:10,mt:5,color:"dimmed",size:"sm"},"Your deal got rejected by the seller, this might be because the seller does not have the requested amount. Your money will be retransfered to you immediately."),r.a.createElement(w.a,{style:{margin:"auto",width:"fit-content"},mt:20},r.a.createElement(x.a,{onClick:function(e){e.preventDefault(),m(!s)},variant:s?"filled":"default",color:s&&"red",leftIcon:r.a.createElement(O.ThumbDown,{size:16})},"Dislike seller"),r.a.createElement(x.a,{variant:"default"},"Browse more offers")))),a&&r.a.createElement("div",{style:{height:350,paddingTop:50,position:"relative"}},r.a.createElement("div",{style:{textAlign:"center",width:"100%"}},r.a.createElement(h.a,{order:4,mb:5},"Track process")),r.a.createElement(U,{currentStep:a}),r.a.createElement(_.a,{icon:r.a.createElement(O.InfoCircle,{size:16}),title:"Tip",color:"yellow",style:{width:"max-content",margin:"auto",marginTop:70,bottom:0}},"In case the seller did not respond within 1 Hour, you will be automatically refunded without any fees.")))}return Object(n.useEffect)(function(){},[d]),Object(n.useEffect)(function(){for(var e=window.location.search.substring(1).split("&").map(function(e){return{name:e.split("=")[0],value:e.split("=")[1]||!0}}),t=0;t<e.length;t++)e[t].name&&"offer_id"==e[t].name&&W(e[t].value),e[t].name&&"deal_id"==e[t].name&&(b(e[t].value),l(2));S.a.get("https://xcarthage.herokuapp.com/api/params/system-fee").then(function(e){e.data?j(parseFloat(e.data)):alert("Could not fetch current system fee quote. Please try again later.")})},[]),r.a.createElement(He.a,null,r.a.createElement("div",{style:{width:"100%",display:"inline-flex",marginBottom:20}},r.a.createElement("img",{style:{height:"30px",marginRight:"10px"},src:"/crypto/".concat(z.crypto_id,".svg")}),r.a.createElement(h.a,{order:3,mb:0},"Buy ",z.crypto_id)),r.a.createElement(Ue.a,{active:a,breakpoint:"sm",mt:5,color:"dark",completedIcon:r.a.createElement(O.CircleCheck,null)},r.a.createElement(Ue.a.Step,{label:"Select Amount"},r.a.createElement(P,{handleStepSubmit:q,prevStep:i,form:d.step1})),r.a.createElement(Ue.a.Step,{label:"Enter Address"},r.a.createElement(L,{handleStepSubmit:q,prevStep:i,form:d.step2})),r.a.createElement(Ue.a.Step,{label:"Make transaction"},r.a.createElement(H,null),r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},onClick:function(e){e.preventDefault(),q()},disabled:3==a,size:"md",style:{margin:"auto",marginRight:"0px",float:"right"}},"Next")),r.a.createElement(Ue.a.Step,{label:"Recieve USDT"},r.a.createElement(M,null)),r.a.createElement(Ue.a.Completed,null,"Completed, click back button to get to previous step")))}function Qe(){return sessionStorage.getItem("token")?S.a.post("https://xcarthage.herokuapp.com/api/verif_token",{token:sessionStorage.getItem("token")}).then(function(e){"auth-error"==e.data.status&&(sessionStorage.clear(),window.location="/login?session_expired&redirect_to=".concat(btoa(window.location)))}):window.location="/login?session_expired&redirect_to=".concat(btoa(window.location)),r.a.createElement(g.a,{style:{paddingTop:20,paddingBottom:20}},r.a.createElement(Me,null))}var Ye=[{label:"Bitcoin",value:"BTC"},{label:"Tether",value:"USDT"},{label:"Ethereum",value:"ETH"},{label:"Binance",value:"BNB"}],Ge=r.a.forwardRef(function(e,t){var a=e.label,n=e.value,l=(e.reservoir,e.bestQ,Object(D.a)(e,["label","value","reservoir","bestQ"]));return r.a.createElement("div",Object.assign({ref:t,key:n},l),r.a.createElement(w.a,{noWrap:!0},r.a.createElement(P.a,{src:"/crypto/".concat(n.toUpperCase(),".svg")}),r.a.createElement("div",null,r.a.createElement(v.a,null,a))))});function Ve(e){return r.a.createElement($.a,{style:{minWidth:"300px"},value:e.value,leftSection:r.a.createElement(O.CurrencyBitcoin,{size:14}),itemComponent:Ge,data:Ye,onChange:function(t){e.handleChange("crypto_id",t)},defaultValue:e.defaultValue,searchable:!0,maxDropdownHeight:200})}var Ke=Object(f.a)(function(e){return{container:{padding:"15px",paddingTop:"0px"},panel:{height:"200px",borderRadius:e.radius.md,backgroundImage:"url(/pattern.svg)",backgroundColor:e.colors.dark[9],backgroundRepeat:"repeat",width:"100%",color:"white"}}});function Je(e){var t=r.a.forwardRef(function(e,t){var a=e.label,n=e.value,l=(e.reservoir,e.bestQ,Object(D.a)(e,["label","value","reservoir","bestQ"]));return r.a.createElement("div",Object.assign({ref:t,key:n},l),r.a.createElement(w.a,{noWrap:!0},r.a.createElement(P.a,{src:"/crypto/".concat(n.toUpperCase(),".svg")}),r.a.createElement("div",null,r.a.createElement(v.a,null,a))))});return r.a.createElement(w.a,{style:e.style},r.a.createElement(O.Select,{value:"All",leftSection:r.a.createElement(O.CurrencyEthereum,{size:14}),itemComponent:t,data:[{label:"Bitcoin",value:"BTC"},{label:"Tether",value:"USDT"},{label:"Ethereum",value:"ETH"},{label:"Binance",value:"BNB"}],defaultValue:"Bitcoin",searchable:!0,maxDropdownHeight:200,size:"lg",styles:{input:{border:"none",backgroundColor:"#ffffff24",fontSize:"15px"}}}),r.a.createElement(b.a,{placeholder:"Amount in USD..",size:"lg",styles:{input:{border:"none",backgroundColor:"#ffffff24",fontSize:"15px",color:"white"}}}),r.a.createElement(x.a,{color:"dark",size:"lg",variant:"gradient",leftIcon:r.a.createElement(O.Search,null),gradient:{from:"#4776E6",to:"#8E54E9"}},"Explore Offers"))}function Xe(){var e=Ke().classes,t=Object(n.useState)({crypto_id:void 0}),a=Object(c.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)(function(){for(var e=window.location.search.substring(1).split("&").map(function(e){return{name:e.split("=")[0],value:e.split("=")[1]||!0}}),t={},a=0;a<e.length;a++)e[a].name&&"crypto_id"==e[a].name&&(t[e[a].name]=e[a].value),e[a].name&&"amount"==e[a].name&&(t[e[a].name]=e[a].value),e[a].name&&"max_quote"==e[a].name&&(t[e[a].name]=e[a].value);o(t),console.log(l)},[]),r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.panel},r.a.createElement(ge.a,{theme:{colorScheme:"dark"},withNormalizeCSS:!0},r.a.createElement("div",{style:{margin:"auto",padding:"20px",paddingTop:"30px",paddingBottom:"30px"}},r.a.createElement(h.a,{mb:5},"Search for offer")),r.a.createElement(Je,{style:{marginTop:50}}))),r.a.createElement(ee.a,{mt:20},r.a.createElement(ee.a,{mb:10},r.a.createElement(x.a,{size:"sm",variant:"filled",color:"dark",style:{float:"right"},onClick:function(e){e.preventDefault(),window.location="/dashboard#offers-create"}},"Post Offer"),r.a.createElement(h.a,{order:2},"Browse our offer listings"),r.a.createElement(v.a,{size:"sm",className:e.description},"All offers listed within our resevoir are 100% legit and verified by our Blockchain Exploring algorithms.Once the wallet's owner no longer",r.a.createElement("br",null),"  have sufficient funds as listed the offer will be automatically droped.")),r.a.createElement(pe,null)))}var Ze=a(2135),$e=a(2107),et=a(2116),tt=Object(f.a)(function(e,t,a){var n=a("icon");return{navbar:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.white,position:"sticky"},title:{textTransform:"uppercase",letterSpacing:-.25},link:Object(p.a)({},e.fn.focusStyles(),{display:"flex",alignItems:"center",textDecoration:"none",fontSize:e.fontSizes.sm,color:"dark"===e.colorScheme?e.colors.dark[1]:e.colors.gray[7],padding:"".concat(e.spacing.xs,"px ").concat(e.spacing.sm,"px"),borderRadius:e.radius.sm,fontWeight:500,"&:hover":Object(u.a)({backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.colors.gray[0],color:"dark"===e.colorScheme?e.white:e.black},"& .".concat(n),{color:"dark"===e.colorScheme?e.white:e.black})}),linkIcon:{ref:n,color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6],marginRight:e.spacing.sm},linkActive:{"&, &:hover":Object(u.a)({backgroundColor:"whitesmoke",color:"black"},"& .".concat(n),{color:"black"})},footer:{borderTop:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]),paddingTop:e.spacing.md}}}),at=[{link:"#dashboard",label:"Dashboard",icon:O.Home},{link:"#notifications",label:"Notifications",icon:O.BellRinging},{link:"#deals",label:"My Deals",icon:O.Receipt2},{link:"#offers",label:"My Offers",icon:O.List},{link:"#support",label:"Client Support",icon:O.Lifebuoy},{link:"#settings",label:"Account Settings",icon:O.Settings}];function nt(e){var t=tt(),a=t.classes,l=t.cx,o=Object(n.useState)("Dashboard"),i=Object(c.a)(o,2),s=i[0],m=i[1];function d(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var p=Object(n.useState)(d()),f=Object(c.a)(p,2),g=f[0],E=f[1];Object(n.useEffect)(function(){function e(){E(d())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]);var h=at.map(function(t){return r.a.createElement("a",{className:l(a.link,Object(u.a)({},a.linkActive,t.link===s)),href:t.link,key:t.label,onClick:function(a){a.preventDefault(),e.navigate(t.link),m(t.link)}},r.a.createElement(t.icon,{className:a.linkIcon}),r.a.createElement("span",null,t.label))});return r.a.createElement(et.a,{height:g.height-60,width:{sm:300},p:"md",className:a.navbar},r.a.createElement(et.a.Section,{grow:!0,mt:"xl"},h),r.a.createElement(et.a.Section,{className:a.footer},r.a.createElement("a",{href:"#",className:a.link,onClick:function(e){return e.preventDefault()}},r.a.createElement(O.SwitchHorizontal,{className:a.linkIcon}),r.a.createElement("span",null,"Change account")),r.a.createElement("a",{href:"#",className:a.link,onClick:function(e){return e.preventDefault()}},r.a.createElement(O.Logout,{className:a.linkIcon}),r.a.createElement("span",null,"Logout"))))}var rt=Object(f.a)(function(e){return{root:{marginBottom:20},value:{fontSize:24,fontWeight:700,lineHeight:1},diff:{lineHeight:1,display:"flex",alignItems:"center"},icon:{color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[4]},title:{fontWeight:700,textTransform:"uppercase"}}});function lt(){var e=rt().classes,t=Object(n.useState)({n_listed_offers:"N/C",total_views:"N/C",avg_resp_time:"N/C"}),a=Object(c.a)(t,2),l=a[0],o=a[1];return Object(n.useEffect)(function(){S.a.get("https://xcarthage.herokuapp.com/api/widgets?token=".concat(sessionStorage.getItem("token"))).then(function(e){"ok"==e.data.status?o({n_listed_offers:e.data.n_listed_offers,total_views:e.data.total_views,avg_resp_time:-1==e.data.avg_resp_time?"N/C":e.data.avg_resp_time,total_sold:e.data.total_sold}):"auth-error"==e.status&&(sessionStorage.clear(),window.location="/login?session_expired")})},[]),r.a.createElement("div",{className:e.root},r.a.createElement(Ee.a,{cols:4,breakpoints:[{maxWidth:"md",cols:2},{maxWidth:"xs",cols:1}]},r.a.createElement(E.a,{withBorder:!0,p:"md",radius:"md",key:"total_listed_offers"},r.a.createElement(w.a,{position:"apart"},r.a.createElement(v.a,{size:"xs",color:"dimmed",className:e.title},"Total Listed Offers"),r.a.createElement(O.List,{className:e.icon,size:22})),r.a.createElement(w.a,{align:"flex-end",spacing:"xs",mt:25},r.a.createElement(v.a,{className:e.value},l.n_listed_offers))),r.a.createElement(E.a,{withBorder:!0,p:"md",radius:"md",key:"total_number_views"},r.a.createElement(w.a,{position:"apart"},r.a.createElement(v.a,{size:"xs",color:"dimmed",className:e.title},"Total Number Of Views"),r.a.createElement(O.Eye,{className:e.icon,size:22})),r.a.createElement(w.a,{align:"flex-end",spacing:"xs",mt:25},r.a.createElement(v.a,{className:e.value},l.total_views))),r.a.createElement(E.a,{withBorder:!0,p:"md",radius:"md",key:"total_sold"},r.a.createElement(w.a,{position:"apart"},r.a.createElement(v.a,{size:"xs",color:"dimmed",className:e.title},"Total Sold"),r.a.createElement(O.Coin,{className:e.icon,size:22})),r.a.createElement(w.a,{align:"flex-end",spacing:"xs",mt:25},r.a.createElement(v.a,{className:e.value},l.total_sold?l.total_sold:"0"," USD"))),r.a.createElement(E.a,{withBorder:!0,p:"md",radius:"md",key:"avg_rep_time"},r.a.createElement(w.a,{position:"apart"},r.a.createElement(v.a,{size:"xs",color:"dimmed",className:e.title},"Average Response Time"),r.a.createElement(O.Clock,{className:e.icon,size:22})),r.a.createElement(w.a,{align:"flex-end",spacing:"xs",mt:25},r.a.createElement(v.a,{className:e.value},l.avg_resp_time)))))}function ot(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(),s=Object(c.a)(i,2),m=s[0],d=s[1],u=Object(n.useState)({crypto_id:{value:"",error:void 0},min_amount:{value:"",error:void 0},max_amount:{value:"",error:void 0},sell_quote:{value:"",error:void 0},payment_method:{value:"",error:void 0},accept_number:{value:"",error:void 0}}),f=Object(c.a)(u,2),g=f[0],E=f[1];function h(e,t){var a=Object(p.a)({},g);a[e].error=t,E(a)}function v(e,t){var a=Object(p.a)({},g);a[e].value=t,a[e].error=void 0,E(a),console.log(g)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{id:"crypto_id",required:!0,label:"Cryptocurrency",style:{marginBottom:5,marginTop:5}},r.a.createElement(Ve,{handleChange:v})),r.a.createElement(w.a,{grow:!0},r.a.createElement(Pe.a,{id:"min_amount",required:!0,label:"Minimum Amount",style:{marginBottom:5,marginTop:5}},r.a.createElement(Le.a,{id:"min_amount",name:"min_amount",onChange:function(e){v(e.currentTarget.name,e.currentTarget.value)},error:g.min_amount.error||void 0})),r.a.createElement(Pe.a,{id:"max_amount",required:!0,label:"Maximum Amount",style:{marginBottom:5,marginTop:5}},r.a.createElement(Le.a,{id:"max_amount",name:"max_amount",onChange:function(e){v(e.currentTarget.name,e.currentTarget.value)},error:g.max_amount.error||void 0}))),r.a.createElement(Pe.a,{id:"quote",required:!0,label:"Quote",style:{marginBottom:5}},r.a.createElement(Le.a,{id:"quote",name:"sell_quote",onChange:function(e){v(e.currentTarget.name,e.currentTarget.value)},error:g.sell_quote.error||void 0})),r.a.createElement(Pe.a,{id:"payment_method",required:!0,label:"Payment Method ",style:{marginBottom:5}},r.a.createElement($.a,{data:[{value:"D17",label:"D17 Safe Exchange"}],name:"payment_method",onChange:function(e){v("payment_method",e)},error:g.payment_method.error||void 0})),"D17"==g.payment_method.value&&r.a.createElement(Pe.a,{id:"recv_number",required:!0,label:"D17 Phone number :",description:"This is the phone number associated to the account that you want to recieve your funds in, please type it correctly.",style:{marginBottom:5}},r.a.createElement(Le.a,{id:"recv_number",name:"accept_number",placeholder:"+216 00 000 000",onChange:function(e){v(e.currentTarget.name,e.currentTarget.value)},error:g.accept_number.error||void 0})),m&&r.a.createElement(_.a,{icon:r.a.createElement(O.AlertCircle,{size:16}),title:"Ops",color:"red"},m.label),r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},style:{float:"right",marginTop:"20px"},loading:l,onClick:function(t){return function(t){t.preventDefault(),console.log(g),o(!0);var a=!1;g.crypto_id.value&&0!=g.crypto_id.value.length||(h("crypto_id","You must select a cryptocurrency!"),a=!0),g.min_amount.value&&0!=g.min_amount.value.length||(h("min_amount","Minimum amount cannot be empty!"),a=!0),g.max_amount.value&&0!=g.max_amount.value.length||(h("max_amount","Maximum amount cannot be empty!"),a=!0),g.sell_quote.value&&0!=g.sell_quote.value.length||(h("sell_quote","Quote cannot be empty!"),a=!0),g.payment_method.value&&0!=g.payment_method.value||(h("payment_method","You must select a payment method."),a=!0),g.accept_number.value&&0!=g.accept_number.value||(h("accept_number","Phone number cannot be empty."),a=!0),a?o(!1):S.a.post("https://xcarthage.herokuapp.com/api/offers/create",{token:sessionStorage.getItem("token"),crypto_id:g.crypto_id.value,min_amount:g.min_amount.value,max_amount:g.max_amount.value,sell_quote:g.sell_quote.value,accept_number:g.accept_number.value}).then(function(t){if(console.log(t),"ok"==t.data.status)e.navigateTab("#offers");else if("error"==t.data.status){if(t.data.fields&&t.data.fields.length>0)for(var a=t.data.fields,n=0;n<a.length;n++)h(a[n].name,a[n].label)}else"auth-error"==t.data.status?(sessionStorage.clear(),window.location="/login?session_expired"):"fatal-error"==t.data.status&&d({status:"fatal_error",label:"Internal error, please try again later."});o(!1)}).catch(function(){d({status:"fatal_error",label:"Internal error, please try again later."}),o(!1)})}(t)}},"Publish"))}var it=a(2112),ct={General:O.UserCircle,Security:O.ShieldLock,Payment:O.CreditCard,History:O.History};function st(){function e(e){var t=e.icon,a=e.title,n=ct[t];return r.a.createElement(w.a,{noWrap:!0},r.a.createElement(n,null),r.a.createElement("div",null,r.a.createElement(v.a,null,a)))}return r.a.createElement(it.a,{iconPosition:"right",style:{backgroundColor:"white",borderRadius:8,border:"1px solid whitesmoke"}},r.a.createElement(it.a.Item,{label:r.a.createElement(e,{icon:"General",title:"General information"})},r.a.createElement(Pe.a,{label:"Email Address"},r.a.createElement(Le.a,null)),r.a.createElement(Pe.a,{label:"Phone Number"},r.a.createElement(Le.a,null)),r.a.createElement("div",{style:{width:"100%",textAlign:"right"}},r.a.createElement(x.a,{color:"dark",mt:10},"Save"))),r.a.createElement(it.a.Item,{label:r.a.createElement(e,{icon:"Security",title:"Security"})},r.a.createElement(Pe.a,{label:"Password"},r.a.createElement(Le.a,null)),r.a.createElement(Pe.a,{label:"Repeat Password"},r.a.createElement(Le.a,null)),r.a.createElement("div",{style:{width:"100%",textAlign:"right"}},r.a.createElement(x.a,{color:"dark",mt:10},"Save"))),r.a.createElement(it.a.Item,{label:r.a.createElement(e,{icon:"Payment",title:"Payment options"})},"With new :focus-visible pseudo-class focus ring appears only when user navigates with keyboard"),r.a.createElement(it.a.Item,{label:r.a.createElement(e,{icon:"History",title:"Log in history"})},"With new :focus-visible pseudo-class focus ring appears only when user navigates with keyboard"))}function mt(e){var t=Object(n.useState)(window.location.hash||"#dashboard"),a=Object(c.a)(t,2),l=a[0],o=a[1],i=Object($e.a)();i.height,i.width;return 60,r.a.createElement(Ze.a,{padding:"md",navbar:r.a.createElement(nt,{navigate:o})},"#dashboard"==l&&r.a.createElement("div",null,r.a.createElement(lt,null),r.a.createElement(_.a,{mb:10,icon:r.a.createElement(O.AlertCircle,{size:16}),title:"Tip",color:"yellow",withCloseButton:!0},"Faster response time means better offer ranking, respond faster to your custumer to recieve more!"),r.a.createElement(h.a,{order:4,mb:10,mt:20},"Pending Deals :"),r.a.createElement(ue,null),r.a.createElement(h.a,{order:4,mb:10,mt:20},"My offers :"),r.a.createElement(fe,{navigate:o})),"#deals"==l&&r.a.createElement("div",null,r.a.createElement(h.a,{order:3,mb:10,mt:20},"My Deals : "),r.a.createElement(_.a,{mb:10,icon:r.a.createElement(O.AlertCircle,{size:16}),title:"Tip",color:"yellow",withCloseButton:!0},"Faster response time means better offer ranking, respond faster to your custumer to recieve more!"),r.a.createElement(ue,null)),"#offers"==l&&r.a.createElement("div",null,r.a.createElement(w.a,{grow:!0},r.a.createElement(h.a,{order:3,mb:10,mt:20},"My Offers : "),r.a.createElement("div",null,r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},style:{float:"right"},onClick:function(e){e.preventDefault(),o("#offers-create")}},"Create new offer"))),r.a.createElement(_.a,{mb:10,icon:r.a.createElement(O.AlertCircle,{size:16}),title:"Tip",color:"yellow",withCloseButton:!0},"Faster response time means better offer ranking, respond faster to your custumer to recieve more!"),r.a.createElement(fe,{navigate:o})),"#offers-create"==l&&r.a.createElement("div",null,r.a.createElement(w.a,{mb:10,mt:20},r.a.createElement(L.a,{size:"md",onClick:function(e){e.preventDefault(),o("#offers")}},r.a.createElement(O.ArrowLeft,{size:20})),r.a.createElement(h.a,{order:3},"Create offer:")),r.a.createElement(_.a,{mb:10,icon:r.a.createElement(O.AlertCircle,{size:16}),title:"Tip",color:"yellow",withCloseButton:!0},"Faster response time means better offer ranking, respond faster to your custumer to recieve more!"),r.a.createElement(ot,{navigateTab:o})),"#notifications"==l&&r.a.createElement("div",null,r.a.createElement(h.a,{order:3,mb:10,mt:20},"Notifications"),r.a.createElement(V,{data:e.notifs})),"#settings"==l&&r.a.createElement("div",null,r.a.createElement(h.a,{order:3,mb:10,mt:20},"Account Settings"),r.a.createElement(st,null)))}var dt=a(2136),ut=Object(f.a)(function(e){return{title:{fontSize:26,fontWeight:900,fontFamily:"Greycliff CF, ".concat(e.fontFamily)},stepTitle:{fontWeight:900,fontFamily:"Greycliff CF, ".concat(e.fontFamily)},controls:Object(u.a)({},e.fn.smallerThan("xs"),{flexDirection:"column-reverse"}),control:Object(u.a)({},e.fn.smallerThan("xs"),{width:"100%",textAlign:"center"})}});function pt(){var e=ut().classes,t=Object(n.useState)(0),a=Object(c.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(!1),s=Object(c.a)(i,2),m=s[0],d=s[1],u=Object(n.useState)(0),f=Object(c.a)(u,2),k=f[0],_=f[1],C=Object(n.useState)({identifier:{value:"",error:void 0},confirmation_code:{value:"",error:void 0},new_password:{value:"",error:void 0},new_password_repeat:{value:"",error:void 0}}),j=Object(c.a)(C,2),T=j[0],N=j[1];function z(e,t){var a=Object(p.a)({},T);(a[e]={value:t,error:void 0},"cc1"==e)&&document.querySelector("input[name=cc2]").focus();"cc2"==e&&document.querySelector("input[name=cc3]").focus();"cc3"==e&&document.querySelector("input[name=cc4]").focus();"cc4"==e&&(a.confirmation_code={value:a.cc1.value+a.cc2.value+a.cc3.value+a.cc4.value,error:void 0}),console.log(a),N(a)}function D(e,t){var a=Object(p.a)({},T);a[e]={value:a[e].value||"",error:t},N(a)}function B(){if(d(!0),!T.identifier.value||""==T.identifier.value)return D("identifier","Identifier cannot be empty."),o(0),void alert("error");console.log(T),S.a.post("https://xcarthage.herokuapp.com/api/password_reset/generate_code",{identifier:T.identifier.value}).then(function(e){console.log(e),"ok"==e.data.status?1!=l&&o(1):alert("Internal error, please try again later."),d(!1),1==k&&_(2)}).catch(function(e){console.log(e),d(!1)})}return r.a.createElement(g.a,{size:460,my:30},r.a.createElement(E.a,{withBorder:!0,shadow:"md",p:30,radius:"md",mt:"xl"},0==l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{order:4,className:e.stepTitle,mb:2,mt:0},"Password reset"),r.a.createElement(v.a,{mb:10,color:"dimmed",size:"sm"},"Please type the email address or phone number associated with your account."),r.a.createElement(Pe.a,{label:"Your email",required:!0,error:T.identifier.error},r.a.createElement(b.a,{name:"identifier",onChange:function(e){z(e.currentTarget.name,e.currentTarget.value)}})),r.a.createElement(w.a,{position:"apart",mt:"lg",className:e.controls},r.a.createElement(dt.a,{color:"dimmed",size:"sm",className:e.control,onClick:function(e){e.preventDefault(),window.location="/login"}},r.a.createElement(I.a,{inline:!0},r.a.createElement(O.ArrowLeft,{size:12}),r.a.createElement(ee.a,{ml:5},"Back to login page"))),r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},className:e.control,onClick:function(e){e.preventDefault(),B()}},"Send Code"))),1==l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{order:4,className:e.stepTitle,mb:2,mt:0},"Confirmation code"),r.a.createElement(v.a,{mb:10,color:"dimmed",size:"sm"},"Please check your inbox for the confirmation code, in case you did not recieve it please check your spam folder."),r.a.createElement(Pe.a,{error:T.confirmation_code.error},r.a.createElement(w.a,{grow:!0},r.a.createElement(b.a,{name:"cc1",styles:{input:{textAlign:"center"}},onChange:function(e){z(e.currentTarget.name,e.currentTarget.value)}}),r.a.createElement(b.a,{name:"cc2",styles:{input:{textAlign:"center"}},onChange:function(e){z(e.currentTarget.name,e.currentTarget.value)}}),r.a.createElement(b.a,{name:"cc3",styles:{input:{textAlign:"center"}},onChange:function(e){z(e.currentTarget.name,e.currentTarget.value)}}),r.a.createElement(b.a,{name:"cc4",styles:{input:{textAlign:"center"}},onChange:function(e){z(e.currentTarget.name,e.currentTarget.value)}}))),r.a.createElement(w.a,{position:"apart",mt:"lg",className:e.controls},r.a.createElement(dt.a,{color:"dimmed",size:"sm",className:e.control,onClick:function(e){e.preventDefault(),_(1),B()}},r.a.createElement(I.a,{inline:!0},0==k&&r.a.createElement(O.Refresh,{size:12}),1==k&&r.a.createElement(ie.a,{size:12,color:"gray"}),2==k&&r.a.createElement(O.Check,{size:12}),-2==k&&r.a.createElement(O.AlertTriangle,{size:12}),r.a.createElement(ee.a,{ml:5},"Send new code"))),r.a.createElement(x.a,{color:"dark",loading:m,variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},className:e.control,onClick:function(e){e.preventDefault(),function(){if(d(!0),alert(T.confirmation_code.value),!T.confirmation_code.value||4!=T.confirmation_code.value.length)return D("confirmation_code","Confirmation code is not valid."),d(!1),void console.log(T.confirmation_code.value);S.a.post("https://xcarthage.herokuapp.com/api/password_reset/verif_code",{identifier:T.identifier.value,reset_code:T.confirmation_code.value}).then(function(e){console.log(e),"ok"==e.data.status&&(1==e.data.valid?(d(!1),o(2)):(d(!1),D("confirmation_code","This confirmation code is incorrect or expired.")))}).catch(function(e){alert("Connection Error"),console.log(e)})}()}},"Continue"))),2==l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{order:4,className:e.stepTitle,mb:2,mt:0},"Update password"),r.a.createElement(v.a,{mb:10,color:"dimmed",size:"sm"},"Please make sure to use a strong password.                    "),r.a.createElement(Pe.a,{label:"New password",required:!0,error:T.new_password.error},r.a.createElement(y.a,{name:"new_password",onChange:function(e){z(e.currentTarget.name,e.currentTarget.value)},mb:5})),r.a.createElement(Pe.a,{label:"Confirm password",required:!0,error:T.new_password_repeat.error},r.a.createElement(y.a,{name:"new_password_repeat",onChange:function(e){z(e.currentTarget.name,e.currentTarget.value)}})),r.a.createElement(w.a,{position:"apart",mt:"lg",className:e.controls},r.a.createElement(x.a,{color:"dark",variant:"gradient",gradient:{from:"#4776E6",to:"#8E54E9"},className:e.control,style:{margin:"auto",marginRight:0},onClick:function(e){e.preventDefault(),T.identifier.value&&0!=T.identifier.value.length?T.confirmation_code.value&&4==T.confirmation_code.value.length?T.new_password.value&&0!=T.new_password.value.length?!T.new_password.value!=T.new_password_repeat.value?(D("new_password_repeat","Identifier cannot be empty."),o(2)):S.a.post("https://xcarthage.herokuapp.com/api/password_reset/change_password",{identifier:T.identifier.value,reset_code:T.confirmation_code.value,new_password:T.new_password.value}).then(function(e){"ok"==e.data.status?window.location="/login":alert("Internal error, please try again later.")}):(D("new_password","New password cannot be empty."),o(2)):(D("confirmation_code","Confirmation code is not valid."),o(1)):(D("identifier","Identifier cannot be empty."),o(0))}},"Update Password")))))}var ft=[{label:"Bitcoin",code:"BTC",reservoir:"321.2 BTC",bestQ:"3.2",link:"/offers/bitcoin"},{label:"Tether",code:"USDT",reservoir:"432 K",bestQ:"3.1",link:"/offers/tether"},{label:"Ethereum",code:"ETH",reservoir:"201 K",bestQ:"3.1",link:"/offers/ethereum"},{label:"Binance",code:"BNB",reservoir:"201 K",bestQ:"3.1",link:"/offers/binance"}];function gt(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(0),s=Object(c.a)(o,2),u=s[0],p=s[1];function f(){S.a.get("https://xcarthage.herokuapp.com/api/notifications?token=".concat(sessionStorage.getItem("token"),"&lastSyncTime=").concat(u)).then(function(e){if(console.log(e),"ok"==e.data.status&&e.data.data.length>0){console.log("New notification :"),console.log(e);var t=Object(i.a)(a),n=e.data.data;l(n.concat(t)),console.log(a);var r=(new Date).getTime();p(r)}else"auth-error"==e.data.status&&(sessionStorage.clear(),window.location="/login?session_expired")})}return Object(n.useEffect)(function(){if(sessionStorage.getItem("token")){f();var e=setInterval(function(){f()},1e4);return function(){return clearInterval(e)}}}),r.a.createElement("div",{className:"App"},-1==window.location.href.indexOf("control-panel")&&r.a.createElement(Z,{notifs:a,links:[{link:"/",label:"Home",links:[]},{link:"/",label:"Buy Crypto",links:ft},{link:"/sell",label:"Sell Crypto"},{link:"/vip",label:"For traders"},{link:"/faq",label:"FAQ"}]}),r.a.createElement(m.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",element:r.a.createElement(Re,null)}),r.a.createElement(d.a,{path:"/login",element:r.a.createElement(z,null)}),r.a.createElement(d.a,{path:"/register",element:r.a.createElement(We,null)}),r.a.createElement(d.a,{path:"/buy-crypto",element:r.a.createElement(Qe,null)}),r.a.createElement(d.a,{path:"/reservoir",element:r.a.createElement(Xe,null)}),r.a.createElement(d.a,{path:"/dashboard",element:r.a.createElement(mt,{notifs:a})}),r.a.createElement(d.a,{path:"/createOffer",element:r.a.createElement(ot,null)}),r.a.createElement(d.a,{path:"/reset",element:r.a.createElement(pt,null)}))))}o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge.a,{theme:{fontFamily:"Open Sans"},withGlobalStyles:!0,withNormalizeCSS:!0},r.a.createElement(gt,null)))),s()},54:function(e,t,a){},64:function(e,t,a){e.exports=a.p+"static/media/brand.8a8e7101.svg"},70:function(e,t,a){e.exports=a.p+"static/media/bolt.3ae2fb8a.svg"},71:function(e,t,a){e.exports=a.p+"static/media/fingerprint.68ab6339.svg"},72:function(e,t,a){e.exports=a.p+"static/media/shield-check.92dcc46e.svg"},73:function(e,t,a){e.exports=a.p+"static/media/star.ce157b41.svg"},74:function(e,t,a){e.exports=a.p+"static/media/brandLight.9eb975a7.svg"},77:function(e,t,a){e.exports=a(2093)}},[[77,3,2]]]);
//# sourceMappingURL=main.da2a97f7.chunk.js.map